## Моторизированная тележка управляемая по ИК от стандартного пульта ДУ
### Модуль цифровой схемы для исправления дребезга кнопок

Этот модуль предотвращает явление дребезга кнопок - неконтролируемой многократой активации при одном физическом нажатии.
Модуль спроектирован для работы на плате ["Карно"](https://github.com/Fabmicro-LLC/Karnix_ASB-254), на базе ПЛИС Lattice ECP5.

### Входные сигналы:
* clk - тактовая частота;
* rst - сигнал сброса;
* button_in - входной сигнал от кнопки;

### Выходные сигналы:
* button_pressed - сигнализатор нажатия кнопки в предыдущем такте;
* button_state - сигнал стабилизированного состояния кнопки;
* button_released - сигнализатор отжатия кнопки в предыдущем такте;

### Запуск на ОС Linux:
1. Установить инструментарий: [YosysHQ](https://github.com/YosysHQ/oss-cad-suite-build/releases/), [OpenFPGALoader](https://github.com/trabucayre/openFPGALoader).
2. Установить make, python: `sudo apt install make python3`
3. В директории Debouncer выполнить `make upload`

### Тестирование
Для тестирования модуля в отрыве от остальных предусмотрен файл `top.sv`, позволяющий отследить выполнение основных команд через 2 кнопки и 3 светодиода.
Ниже представлена таблица команд для тестирования.

#### Таблица команд

| Код кнопки (key[1:0]) | Управляющее воздействие                              |
|----------------------|------------------------------------------------------|
| 00                   | Нет нажатия.    |
| 01                   | Нажатие кнопки (key[0]), проверка состояния button_pressed. |
| 10                   | Сброс состояния, очистка регистра button_reg0 и button_reg1 (key[1] нажата). |

#### Описание работы светодиодов

led[0] — Показывает, было ли зарегистрировано "нажатие" кнопки (button_pressed).
Включается, когда кнопка была нажата (не сразу, а после того как стабилизируется сигнал).

led[1] — Отображает текущее состояние кнопки (стабильное состояние).

led[2] — Показывает, был ли зарегистрирован "отпуск" кнопки (button_released).
Включается, когда кнопка была отпущена (не сразу, а после стабилизации сигнала).
